# Stata-tools
Useful programs for statistics in Stata.

####varfreqs
`varfreqs.ado` : creates a summary frequency table for dichotomous variables, separated by the levels of a dichotomous predictor. This summary table is then exported into excel. 
* This table contains:
  * The name of the variable;
  * The label (description) of the variable;
  * The frequency and percent of the variable at each level of the outcome;
  * The frequency and percent of missing observations for that variable.

__Syntax__

  __varfreqs__   _numberofvariables_  _usingdata_  _firstvariable_  _lastvariable_  _outcomevariable_  _exportdata_
  
  where:
  * numberofvariables : Number of dichotomous variables included in the frequency table;
  * usingdata : Data set containing the variables;
  * firstvariable : first variable in the list;
  * lastvariable : last variable in the list;
  * outcomevariable : outcome variable;
  * exportdata : the name of the data files (.dta and .xlsx) the summary table will be exported into.

The data need to be set up:
  * With variable labels on each of the predictors;
  * With value labels on the outcome variable;
  * Ordered so all of the dichotomous variables are together.

#### model_decision

This function allows users (who may be clients or students) to walk through a decision tree on what the most appropriate model is for their data. It is intended to guide non-statisticians through the process of selecting a model. Users call the function using the syntax:

__Syntax__

  __model_decision__   _outcome_ 

There are three elements to the function:

* **The models that the client needs to evaluate.** In the case of this decision-tree, it is a choice between a random-intercepts multilevel model (with subj as the Level 2 variable) and a regression model with robust standard errors clustered by subj, and a choice between including a quadratic term for time or excluding it (don't worry if you don't fully understand these techniques, the important part is understanding the function itself!). For example, this is one of the models:

```
 xtmixed `outcome' time i.group || subj: , var mle
```

* **The ability for the function to take user input using the "_request" command.** This command assigns the user input to a local which the function can use. For example:

```
 di "Enter a value below in the 'command' window (y/n)" _request(_answer1)
```

* **Conditional statements (if, else) that guide the client through the decision-making tree.** These conditional statements evaluate the macros generated by the user input. For example:

```
 if ("`answer1'" == "y") {	
 		xtmixed `outcome' time time_sq i.group || subj: , var mle  
 }
```

You can tailor the function to your needs (models to test, instructions for evaluating the models, number of decisions) as needed.

Feel free to send me a pull request if you have any suggestions or improvements!
  
  
